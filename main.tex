\documentclass[a4paper,12pt]{article}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage[ngerman]{babel}
\usepackage{hyperref}
\usepackage[a4paper, left=2cm, right=5cm, top=2cm]{geometry}
\renewcommand{\baselinestretch}{1.5}
\usepackage{cite}
\usepackage{bibgerm}

\author{Tobias Sigmann}
\title{Seminararbeit: Lorawan}
\date{\today}

\begin{document}
    \maketitle
    \tableofcontents
    \newpage
    \begin{abstract} 
       \cite{WhatIsLoRa}
       \cite{Semtech}
    \end{abstract}

    \section{Einführung in Lora}
    Lora ist ein Low Power, Wide Area (LPWA) Netzwerkprotokoll und somit sehr gut für batteriebetriebene kabellose Geräte geeignet. Deswegen wir Lora auch of im Internet of Things (IoT) Bereich verwendet.
    Mittels der bidirektionalen Kommunikation ist es möglich Daten und Befehle über weite Strecken zu übertragen. Leider leidet darunter die Geschwindigkeit, sodas sich Lora nicht als WLAN Ersatz eignet.
    Trotzdem können zwischen 0.3 und 50 kbps erreicht werden. In Europa werden 863 MHz bis 870 MHz verwendet. Allerdings variiert der Frequenzbereich für andere Kontinente. Je nach Bedingungen können so bis zu 20km entfernte Endgeräte erkannt und mit diesen kommuniziert werden.
    Es ist sogar möglich den Standort des Gerätes zu bestimmen.

    Das Lora Protokoll ist im RPC 8376 definiert.
    
    Eine Alternative zu Lora ist Sigfox, hierrauf werde ich nicht weiter eingehen.
        \cite{WhatIsLoRa}
        \cite{LoraLimit}
    \newline{}\newline{} Es wird folgen: Was ist lora, wo und wofür wird es benutzt, wie weit kann man senden und wie schnell...
    \section{Aufbau eines Lora-Netzwerk}
    \subsection{Gateway}
    Um die mittels Lora übertragenen Daten weiterzuverarbeiten, ist ein Gateway nötig, das über Lora empfangenen Daten an einen im Internet befindlichen Server sendet. Dies wird möglich, indem das Gateway die RF Pakete in IP/TCP Pakete umwandelt.
    Die Endgeräte kommunizieren direkt mit dem Gateway (Single-Hop-Connection) und stellen somit eine Sterntopologie her.

    Ein Endgeräte kann gleichzeitig an mehren Gateways senden. Dabei sind die Endgeräte in Multicast Gruppen unterteilt.
        \cite{TheThing}
        \cite{WhatIsLoRa}
        \cite{LoRaSpec}
        \cite{RFC8376}
    \newline{}\newline{} Es wird folgen: Wie baut man ein Netzwek mit einem Gateway auf. Wie greift man auf die übermittelten Daten zu ...
    \subsection{??End-Gerät zu End-Gerät}
    Sehr wenig Quellen. Urprünglich nicht vorgesehen
    \section{Lora Funktionsweise}
    Die Datenrate ist einstellbar, jedoch wird die Reichweite bei höherer Datenrate gemindert. Ein Vorteil von Lora ist, das die einzelnen Datenraten nicht interferieren und so jedes Endgerät seine eigene Datenrate unabhängig von den anderen Verwenden kann.
    Außerdem wird die Datenrate und die Sendeleistung für jedes Gerät separat gesteuert (ADR, Adaprive Data Rate)
        \cite{RFC8376}
        \cite{LoRaSpec}
    \subsection{Schichtenmodell}
    \subsection{Protokoll}
    \subsection{Übertragungsart}
    Frequenzhopping, spread spectrum, code-chanels
    \section{Lora Geräte Klassen}
    Vieleicht zu klein => in anderes Kapittel stopfen.

    \newline


    Die Endgeräte sind je nach kommunikationsart/protokoll art in drei Klassen (A, B und C) unterteilt. 
        \cite{RFC8376}
        \cite{LoraClasses}
    \subsection{Klasse A}
    Klasse A zeichnet sich durch sehr geringer Stromverbrauch aus. Die Kommunikation kann bidirektionalen Stadtfinden, allerdings muss die Kommunikation von dem Endgeräte gestartet werden. Das bieted die möglichkeit das das Endgerät, wenn keine Daten gesendet werden müssen, in einen sehr
    sparsamen Schlafmodus wechselt. Um das Endgeräte nicht zum "aufwachen" zwingen zu müssen, wurde auf einen "Hardbeat" oder ähnliches verzichtet. Das Endgerät kann so lange "schlafen" wie es möchte. Dadurch ist die Klasse A auch die potenziell Stromsparende Endgeräteklasse.
    
    Das Endgerät startet die Kommunikation in dem es Daten an das Gateway sendet(uplink). Daraufhin hat das Gateway die Möglichkeit 2 mal Daten zum Endgeräte senden(downlink). Da die Kommunikation asynchron Stadtfinden wartet das Endgeräte bis es beide uplinks empfangen hat.gewünscht.
    
    Um zu ermitteln, wann gesendet werden darf, wird das ALOHA-Protokoll verwendet.
    Da das Gateway nicht immer Daten an die Endgeräte senden kann, muss es diese zwischenspeichern um diese bei der Nächsten Kommunikation zum senden.
    \subsection{Klasse B}
    Die Klasse B bietet bidirektionale Kommunikation mit einer deterministischem downlink Latenz. Um diese latenz zu gewährleisten, muss die Kommunikation Synchron ablaufen. Außerdem muss festgestellt werden, ob das Endgerät bzw das Gateway noch in Reichweite ist. Dies wird mittels einens periodischem "beacon" die zu festgelegten
    Zeitpunkten gesendet werde realisiert.

    Die Latenz ist einstellbar und kann bis zu 128 Sekunden.

    Obwohl das Endgerät durch die periodischen "beacons" nicht "schalfen" kann, ist die Klasse B für den Batteriebetrieb gedacht.
    \subsection{Klasse C}
    Um eine möglichst geringe/keine Latzen zu erzielen ist die Klasse C gemacht. Dies bedeutet aber auch das der Stromverbrauch am höchsten ist und somit nicht für den Batteriebetrieb geeignet.
    Das Gateway kann immer Daten senden außer wenn das Endgerät gerade Daten sendet. Hier sind Geschwindigkeit von bis zu 50mb möglich.

    Es ist auch möglich während des Betriebes eines Endgerätes die Klasse zu wechseln. Dies wird am häufigste zwischen A und B getan/ ist nur zwischen A und B möglich.
    \section{Sicherheit}
    Lora bietet die end-to-end Sicherheit an, indem es die Signale zweimal verschlüsselt.

    Die erste Verschlüsselung dient dazu die gesendeten Daten vor eventuellen Mithörern zu verschlüsseln. Die Verschlüsselung geschieht mit einem 128-bit Network-Session-Key.

    Die zweite Verschlüsselung wird bis zur endgültigen Weiterverarbeitung der Daten auf z.B. einen Server verwendet und ist ein 128 bit Application-Session-Key.

    Das zur Verschlüsselung verwendete Protokoll ist AES. Auch zu Authentifizierung und zur Überprüfung der Integrität wir AES verwendet.
    \cite{LoRaSecur}
        \cite{RFC8376}
        \cite{WhatIsLoRa}

    \section{Live-Beispiel}
    wenn vorhanden.
    \section{Sonstige quellen}
    \url{https://lora-alliance.org/resource-hub}
    QuickStart für ein kleines Projekt: \url{https://www.thethingsnetwork.org/docs/devices/node/quick-start.html#setup-arduino-ide}

    Weitere Infos \url{http://www.multitech.com/documents/publications/marketing-guides/lora_device_dev_guide_orange.pdf}
    \newpage
    \bibliographystyle{geralpha}
    \bibliography{myBib}
    %richtige namen finden
\end{document}